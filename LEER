Lo que deberia de hacer es separar las responsabilidades en diferentes clases, ejemplo el update y todo eso, que cada item vea cuanto tiene que descontarse